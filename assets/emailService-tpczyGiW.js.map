{"version":3,"file":"emailService-tpczyGiW.js","sources":["../../src/utils/emailService.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\n// Initialize Supabase client with environment variables\nconst supabaseUrl = process.env.VITE_SUPABASE_URL || '';\nconst supabaseAnonKey = process.env.VITE_SUPABASE_ANON_KEY || '';\nconst supabase = createClient(supabaseUrl, supabaseAnonKey);\n\ninterface EmailOptions {\n  to: string;\n  subject: string;\n  content: string;\n  replyTo?: string;\n}\n\nexport const sendEmail = async ({ to, subject, content, replyTo }: EmailOptions) => {\n  try {\n    // Using Supabase's built-in email service\n    const { error } = await supabase.functions.invoke('send-email', {\n      body: {\n        to,\n        subject,\n        content,\n        replyTo\n      }\n    });\n\n    if (error) {\n      throw new Error(`Failed to send email: ${error.message}`);\n    }\n\n    return { success: true };\n  } catch (error) {\n    console.error('Email sending failed:', error);\n    throw error;\n  }\n};\n\nexport const sendPasswordResetEmail = async (to: string, resetLink: string) => {\n  const subject = 'Password Reset Request';\n  const content = `\n    <h2>Password Reset Request</h2>\n    <p>You recently requested to reset your password. Click the link below to reset it:</p>\n    <p><a href=\"${resetLink}\" style=\"padding: 10px 20px; background-color: #4f46e5; color: white; text-decoration: none; border-radius: 5px;\">Reset Password</a></p>\n    <p>If you didn't request this, please ignore this email.</p>\n    <p>This link will expire in 1 hour for security purposes.</p>\n  `;\n\n  return sendEmail({ to, subject, content });\n};"],"names":["supabaseUrl","define_process_env_default","supabaseAnonKey","supabase","createClient","sendEmail","to","subject","content","replyTo","error","sendPasswordResetEmail","resetLink"],"mappings":"iDAGA,MAAMA,EAAcC,EAAY,mBAAqB,GAC/CC,EAAkBD,EAAY,wBAA0B,GACxDE,EAAWC,EAAaJ,EAAaE,CAAe,EAS7CG,EAAY,MAAO,CAAE,GAAAC,EAAI,QAAAC,EAAS,QAAAC,EAAS,QAAAC,KAA4B,CAClF,GAAI,CAEF,KAAM,CAAE,MAAAC,CAAA,EAAU,MAAMP,EAAS,UAAU,OAAO,aAAc,CAC9D,KAAM,CACJ,GAAAG,EACA,QAAAC,EACA,QAAAC,EACA,QAAAC,CAAA,CACF,CACD,EAED,GAAIC,EACF,MAAM,IAAI,MAAM,yBAAyBA,EAAM,OAAO,EAAE,EAG1D,MAAO,CAAE,QAAS,EAAA,CACpB,OAASA,EAAO,CACd,cAAQ,MAAM,wBAAyBA,CAAK,EACtCA,CACR,CACF,EAEaC,EAAyB,MAAOL,EAAYM,IAAsB,CAC7E,MAAML,EAAU,yBACVC,EAAU;AAAA;AAAA;AAAA,kBAGAI,CAAS;AAAA;AAAA;AAAA,IAKzB,OAAOP,EAAU,CAAE,GAAAC,EAAI,QAAAC,EAAS,QAAAC,EAAS,CAC3C"}